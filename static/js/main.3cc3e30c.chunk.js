(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{93:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(13),a=n.n(i),c=(n(59),n(23)),r=n(24),o=n(31),l=n(29),d=n(1),j=Object(s.createContext)(),h=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).setBothStyles=function(e){s.setState({bothStyles:e})},s.setStyles1=function(e){s.setState({styles1:e})},s.setStyles2=function(e){s.setState({styles2:e})},s.setContentActiveIndex=function(e){s.setState({contentActiveIndex:e})},s.setStyle1ActiveIndex=function(e){s.setState({style1ActiveIndex:e})},s.setStyle2ActiveIndex=function(e){s.setState({style2ActiveIndex:e})},s.state={imageUrlBase:"http://localhost:5000/static/inputs",endpoint:"http://localhost:5000/create_2styles",contentImages:["/content/corgi.jpg","/content/YellowLabradorLooking_new.jpg","/content/butterfly.jpg","/content/Dogrunning.jpg","/content/dog-rough-collie.jpg","/content/cat.jpg","/content/parakeet.jpg"],styleImages:["/style/starry_night.jpg","/style/Derkovits_Gyula_Talig1920.jpg","/style/Derkovits_Gyula_Woman_head_1922.jpg","/style/scream.jpg","/style/glacier1.jpg","/style/glacier2.jpg","/style/create_pillars.jpg","/style/Vassily_Kandinsky.jpg","/style/picnic.jpg","/style/iris.jpg","/style/straw_hat.jpg"],bothStyles:"",setBothStyles:s.setBothStyles,styles1:"",setStyles1:s.setStyles1,styles2:"",setStyles2:s.setStyles2,contentActiveIndex:0,setContentActiveIndex:s.setContentActiveIndex,style1ActiveIndex:0,setStyle1ActiveIndex:s.setStyle1ActiveIndex,style2ActiveIndex:3,setStyle2ActiveIndex:s.setStyle2ActiveIndex},s}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsx)(j.Provider,{value:this.state,children:this.props.children})}}]),n}(s.Component),b=n(103);function g(){window.scroll({top:0,left:0,behavior:"smooth"})}function y(){window.scroll({top:document.body.offsetHeight,left:0,behavior:"smooth"})}var u=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(b.a,{bg:"dark",variant:"dark",expand:"xl",fixed:"top",children:[Object(d.jsx)(b.a.Brand,{href:"#home",onClick:g,children:"Project SAM: Neural Style Transfer with Instance Segmentation"}),Object(d.jsx)(b.a.Brand,{href:"#about",style:{marginLeft:"30%"},onClick:y,children:"About this project"}),Object(d.jsx)(b.a.Brand,{href:"https://github.com/jiangs11/ProfHacks2021",target:"_blank",style:{marginLeft:"5%"},children:"GitHub"})]})}}]),n}(s.Component),p=n(20),x=n(54),m=n(96),f=n(97),O=n(98);function v(e){var t=e.type,n=Object(s.useContext)(j),i=n.imageUrlBase,a=n.contentImages,c=n.styleImages,r=n.contentActiveIndex,o=n.setContentActiveIndex,l=n.style1ActiveIndex,h=n.setStyle1ActiveIndex,b=n.style2ActiveIndex,g=n.setStyle2ActiveIndex,y=Object(s.useState)(!1),u=Object(p.a)(y,2),v=u[0],S=u[1],w="Base"===t?a:c,k=function(){if(!v)switch(t){case"Base":var e=r===w.length-1?0:r+1;o(e);break;case"Style1":var n=l===w.length-1?0:l+1;h(n);break;case"Style2":var s=b===w.length-1?0:b+1;g(s)}},I=function(){if(!v)switch(t){case"Base":var e=0===r?w.length-1:r-1;o(e);break;case"Style1":var n=0===l?w.length-1:l-1;h(n);break;case"Style2":var s=0===b?w.length-1:b-1;g(s)}},A=w.map((function(e,t){return Object(d.jsx)(x.a,{onExiting:function(){return S(!0)},onExited:function(){return S(!1)},children:Object(d.jsx)("img",{src:i+e,alt:"",style:{width:"400px",height:"400px"}})},t)}));return Object(d.jsxs)("div",{style:{width:"26%",marginLeft:"5.5%"},children:["Base"===t?Object(d.jsx)("h4",{children:"Choose an image to style"}):"Style1"===t?Object(d.jsx)("h4",{children:"Choose first styling image"}):Object(d.jsx)("h4",{children:"Choose second styling image"}),Object(d.jsxs)(m.a,{activeIndex:"Base"===t?r:"Style1"===t?l:b,next:k,previous:I,interval:!1,style:{justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)(f.a,{items:w,activeIndex:"Base"===t?r:"Style1"===t?l:b,onClickHandler:function(e){if(!v)switch(t){case"Base":o(e);break;case"Style1":h(e);break;case"Style2":g(e)}}}),A,Object(d.jsx)(O.a,{direction:"prev",directionText:"Previous",onClickHandler:I}),Object(d.jsx)(O.a,{direction:"next",directionText:"Next",onClickHandler:k})]})]})}var S=n(37),w=n.n(S),k=n(52),I=n(53),A=n.n(I),C=n(99),B=n(100);function _(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(!1),c=Object(p.a)(a,2),r=c[0],o=c[1],l=Object(s.useContext)(j),h=l.endpoint,b=l.contentImages,g=l.styleImages,y=l.contentActiveIndex,u=l.style1ActiveIndex,x=l.style2ActiveIndex,m=l.setBothStyles,f=l.setStyles1,O=l.setStyles2,v=function(){var e=Object(k.a)(w.a.mark((function e(){var t,n,s,a,c,r,l,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=b[y].substring(1),n=g[u].substring(1),s=g[x].substring(1),e.prev=4,e.next=7,A.a.post(h,{content:t,style_1:n,style_2:s});case 7:a=e.sent,c=a.data,r=c.both,l=c.styled1,d=c.styled2,m(r),f(l),O(d),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("ERROR: ",e.t0),o(!0);case 18:i(!1);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[r?Object(d.jsx)(C.a,{variant:"danger",style:{width:"20%"},children:"Server is Down :("}):null,n?Object(d.jsxs)(C.a,{variant:"primary",disabled:!0,children:[Object(d.jsx)(B.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Processing..."]}):Object(d.jsx)(C.a,{variant:"dark",onClick:function(){return v()},style:{width:"20%"},children:"Style!"})]})}n.p;function T(){return Object(d.jsx)("div",{style:{backgroundColor:"#f5f5f5",marginTop:"5%",marginBottom:"1%"},children:Object(d.jsxs)("div",{class:"col-md-4 offset-md-4",style:{paddingTop:"3%",paddingBottom:"1%"},children:[Object(d.jsx)("h5",{children:"ProfHacks2021 Project"}),Object(d.jsx)("p",{children:"This project uses deep learning to compose one image in the style of another image (ever wish you could paint like Picasso or Van Gogh?). This is known as neural style transfer."}),Object(d.jsx)("p",{children:"Neural style transfer is an optimization technique used to take two images - a content image and a style reference image (such as an artwork by a famous painter) and blend them together so the output image looks like the content image, but \u201cpainted\u201d in the style of the style reference image."}),Object(d.jsx)("p",{children:"Additionally, we added on image segmentation which is when you want to know where an object is located in the image, the shape of that object, which pixel belongs to which object, etc. In this case, we wanted to segment the image, i.e., each pixel of the image is given a label. Thus, the task of image segmentation is to train a neural network to output a pixel-wise mask of the image. This helps in understanding the image at a much lower level, i.e., the pixel level."}),Object(d.jsx)("p",{children:'We combined these two techniques. We first extract the mask of the object in an image by using image segmentation. We then pass that mask to the style transfer network to make the specific area more "fancy". Finally, to make the image more like a piece of art, we applied a different style transfer to the inverse of the mask (so whatever the image segmentation network didn\'t classify as the main object in the image).'})]})})}var P=n(104);function H(){var e="http://localhost:5000/static/outputs/",t=Object(s.useContext)(j),n=t.bothStyles,i=t.styles1,a=t.styles2,c=400;return console.log(n,i,a),""!==n?Object(d.jsx)("div",{style:{flexDirection:"column",marginTop:"3%"},children:Object(d.jsxs)(P.a,{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(P.a.Image,{width:c,height:c,alt:"imageSize",src:e+i}),Object(d.jsx)("p",{children:"Combined original image with first style"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)(P.a.Image,{width:c,height:c,alt:"imageSize",src:e+a}),Object(d.jsx)("p",{children:"Combined original image with second style"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)(P.a.Image,{width:c,height:c,alt:"imageSize",src:e+n}),Object(d.jsx)("p",{children:"Combined original image with both styles"})]})]})}):null}var D=n(38),L=n.p+"static/media/101.055ed33d.png",z=n.p+"static/media/107.70a8479b.png",G=n.p+"static/media/274.709b79d7.png",E=n.p+"static/media/370.7f03e0c6.png",K=n.p+"static/media/412.24964aee.png",N=n.p+"static/media/436.7d88e5d0.png",W=n.p+"static/media/504.408f2a15.png",R=n.p+"static/media/506.b06fcaf0.png",q=n.p+"static/media/bear_13.1569fb2e.png",F=n.p+"static/media/bear_14.6c5f9ceb.png",J=n.p+"static/media/bear_70.45b9e624.png",U=n.p+"static/media/birb.63b2e735.png";function V(){return Object(d.jsxs)("div",{style:{flexDirection:"column",marginLeft:"7%"},children:[Object(d.jsx)(D.a,{src:L,rounded:!0}),Object(d.jsx)(D.a,{src:z,rounded:!0}),Object(d.jsx)(D.a,{src:G,rounded:!0}),Object(d.jsx)(D.a,{src:E,rounded:!0}),Object(d.jsx)(D.a,{src:K,rounded:!0}),Object(d.jsx)(D.a,{src:N,rounded:!0}),Object(d.jsx)(D.a,{src:W,rounded:!0}),Object(d.jsx)(D.a,{src:R,rounded:!0}),Object(d.jsx)(D.a,{src:q,rounded:!0}),Object(d.jsx)(D.a,{src:F,rounded:!0}),Object(d.jsx)(D.a,{src:J,rounded:!0}),Object(d.jsx)(D.a,{src:U,rounded:!0})]})}var M=n(102),Y=n(101),Q=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(h,{children:[Object(d.jsx)(u,{}),Object(d.jsx)("br",{}),Object(d.jsxs)(M.a,{defaultActiveKey:"home",id:"uncontrolled-tab-example",style:{marginTop:"5%"},children:[Object(d.jsx)("br",{}),Object(d.jsxs)(Y.a,{eventKey:"home",title:"Style an Image",style:{flex:1,textAlign:"center"},children:[Object(d.jsxs)("div",{style:{display:"flex",marginTop:"3%"},children:[Object(d.jsx)(v,{type:"Base"}),Object(d.jsx)(v,{type:"Style1"}),Object(d.jsx)(v,{type:"Style2"})]}),Object(d.jsxs)("div",{style:{marginTop:"2%"},children:[Object(d.jsx)(_,{}),Object(d.jsx)(H,{})]})]}),Object(d.jsx)(Y.a,{eventKey:"gallery",title:"Our Favorite Styles Gallery",children:Object(d.jsx)(V,{})})]}),Object(d.jsx)(T,{})]})})};a.a.render(Object(d.jsx)(Q,{}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.3cc3e30c.chunk.js.map